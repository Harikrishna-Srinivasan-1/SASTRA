{% extends "layout.html" %}

{% block title %}Login{% endblock %}

{% block content %}
	{% if role %}
        <h1>{{ role.title() }} Login</h1>
    {% else %}
        <h1>Login</h1>
    {% endif %}
    <form action={{ auth }} method="post">
        <label for="user">{{ user }} </label>
        <input type="text" name="user" id="user" style="margin-left: 42px;" maxlength="40" autofocus autocomplete="off" required>
        <br>
        <label for="password">Password </label>
        <input type="password" name="password" id="password" autocomplete="off" required>
        <input type="hidden" name={{ role }} value="1"/>
        <br>
        <button type="submit" style="margin-top: 24px;">Login</button>

        {% if error_message %}
            <div class="error message" style="text-align: center;">{{ error_message }}</div>
        {% endif %}
    </form>
    <script>
        window.onload = function () {
            if (window.history && window.history.pushState) {
                window.history.pushState("forward", null, "./");
                window.history.forward(1);
            }
        }
    </script>
{% endblock %}
